{"version":3,"sources":["components/DoomFace/DoomFace.tsx","App.tsx","index.tsx","components/DoomFace/DoomFace.module.css"],"names":["DoomFace","React","forwardRef","ref","level","variant","className","classes","root","classNames","sprite","MouseFollowingDoomFace","useRef","useState","setVariant","useEffect","mouseMoveListener","evt","current","faceCenter","el","getBoundingClientRect","x","y","width","height","getElementCenter","lookingLeft","clientX","lookingFarHorizontally","Math","abs","document","addEventListener","removeEventListener","App","faces","max","map","variants","length","ceil","random","split","faceLevel","colSpan","rootElement","getElementById","render","module","exports"],"mappings":"yPAgBaA,EAAWC,IAAMC,YAAW,WAGvBC,GAHuB,IACvCC,EADuC,EACvCA,MACAC,EAFuC,EAEvCA,QAFuC,OAIvC,sBAAMF,IAAKA,EAAKG,UAAWC,IAAQC,KAAnC,SACE,sBACEF,UAAWG,IACTF,IAAQG,OACRH,IAAQ,SAAD,OAAUH,IACjBG,IAAQ,WAAD,OAAYF,YAuBpB,IAAMM,EAAyB,SAAC,GAA4C,IAA1CP,EAAyC,EAAzCA,MACjCD,EAAMF,IAAMW,OAAoB,MAD0C,EAElDX,IAAMY,SAAwB,KAFoB,mBAEzER,EAFyE,KAEhES,EAFgE,KA2BhF,OAvBAb,IAAMc,WAAU,WACd,IAAMC,EAAoB,SAACC,GAAD,OAAqBH,GAAW,WACxD,IAAKX,EAAIe,QAAS,MAAO,IAEzB,IAAMC,EArBL,SAA0BC,GAAiC,IAAD,EAM3DA,EAAGC,wBAJLC,EAF6D,EAE7DA,EACAC,EAH6D,EAG7DA,EAIF,MAAO,CACLD,EAAGA,EAAa,GAR6C,EAI7DE,MAKAD,EAAGA,EAAc,GAT4C,EAK7DE,QAgBqBC,CAAiBvB,EAAIe,SAClCS,EAAcR,EAAWG,EAAIL,EAAIW,QACjCC,EAAyBC,KAAKC,IAAIZ,EAAWG,EAAIL,EAAIW,SAAW,IAEtE,OAAID,GAAeE,EAA+B,IAC9CF,IAAgBE,EAA+B,KAC9CF,GAAeE,EAA+B,IAC9CF,GAAgBE,EAEd,IAF6C,QAOtD,OAFAG,SAASC,iBAAiB,YAAajB,GAEhC,WACLgB,SAASE,oBAAoB,YAAalB,OAK5C,cAAChB,EAAD,CACEG,IAAKA,EACLC,MAAOA,EACPC,QAASA,KCtEA,SAAS8B,IACtB,IAAMC,EAAQ,CACZ,WACA,WACA,WACA,WACA,WACA,MAGIC,EAAMP,KAAKO,IAAL,MAAAP,KAAI,YAAQM,EAAME,KAAI,SAACC,GAAD,OAAcA,EAASC,YAEzD,OACE,sBAAKlC,UAAU,MAAf,UACE,qBAAKA,UAAU,iBAAf,SACE,cAAC,EAAD,CAAwBF,MAAO0B,KAAKW,KAAqB,EAAhBX,KAAKY,cAGhD,gCACE,kCACE,+BACE,uBACA,mCACA,mCACA,mCACA,mCACA,mCACA,mCACA,mCACA,sCAEDN,EAAME,KAAI,SAACC,EAAUnC,GAAX,OAET,cADA,CACA,gBACE,6BACGA,EAAQ,IAEVmC,EAASI,MAAM,IAAIL,KAAI,SAACjC,GACvB,IAAMuC,EAAiBxC,EAAQ,EAC/B,OACE,6BACE,cAACJ,EAAD,CACEI,MAAOwC,EACPvC,QAASA,KAHJA,MASZkC,EAASC,OAASH,GAAO,oBAAIQ,QAASR,EAAME,EAASC,WAhB/CpC,cCrCrB,IAAM0C,EAAcd,SAASe,eAAe,QAC5CC,iBAAO,cAACb,EAAD,IAASW,I,kBCLhBG,EAAOC,QAAU,CAAC,KAAO,uBAAuB,OAAS,yBAAyB,UAAU,0BAA0B,UAAU,0BAA0B,UAAU,0BAA0B,UAAU,0BAA0B,UAAU,0BAA0B,UAAU,0BAA0B,YAAY,4BAA4B,YAAY,4BAA4B,YAAY,4BAA4B,YAAY,4BAA4B,YAAY,4BAA4B,YAAY,4BAA4B,YAAY,4BAA4B,YAAY,+B","file":"static/js/main.4c61f40c.chunk.js","sourcesContent":["import React, { Ref } from 'react';\nimport classNames from 'classnames';\n\nimport classes from './DoomFace.module.css';\n\nexport type LevelNumber = 1 | 2 | 3 | 4 | 5 | 6;\nexport type VariantLetter = 'a' | 'b' | 'c' | 'd' | 'e' | 'f' | 'g' | 'h';\nexport type DoomFaceProps = {\n  level: LevelNumber;\n  variant: VariantLetter;\n};\nexport type ElementCenter = {\n  x: number;\n  y: number;\n};\n\nexport const DoomFace = React.forwardRef(({\n  level,\n  variant,\n}: DoomFaceProps, ref: Ref<HTMLElement>) => (\n  <span ref={ref} className={classes.root}>\n    <span\n      className={classNames(\n        classes.sprite,\n        classes[`level-${level}`],\n        classes[`variant-${variant}`],\n      )}\n    />\n  </span>\n));\n\nexport type MouseFollowingDoomFaceProps = {\n  level: LevelNumber;\n};\n\nexport function getElementCenter(el: HTMLElement): ElementCenter {\n  const {\n    x,\n    y,\n    width,\n    height,\n  } = el.getBoundingClientRect();\n  return {\n    x: x + (width * 0.5),\n    y: y + (height * 0.5),\n  };\n}\n\nexport const MouseFollowingDoomFace = ({ level }: MouseFollowingDoomFaceProps) => {\n  const ref = React.useRef<HTMLElement>(null);\n  const [variant, setVariant] = React.useState<VariantLetter>('a');\n\n  React.useEffect(() => {\n    const mouseMoveListener = (evt: MouseEvent) => setVariant(() => {\n      if (!ref.current) return 'a';\n\n      const faceCenter = getElementCenter(ref.current);\n      const lookingLeft = faceCenter.x > evt.clientX;\n      const lookingFarHorizontally = Math.abs(faceCenter.x - evt.clientX) > 100;\n\n      if (lookingLeft && lookingFarHorizontally) return 'g';\n      if (lookingLeft && !lookingFarHorizontally) return 'f';\n      if (!lookingLeft && lookingFarHorizontally) return 'h';\n      if (!lookingLeft && !lookingFarHorizontally) return 'd';\n\n      return 'a';\n    });\n\n    document.addEventListener('mousemove', mouseMoveListener);\n\n    return () => {\n      document.removeEventListener('mousemove', mouseMoveListener);\n    };\n  });\n\n  return (\n    <DoomFace\n      ref={ref}\n      level={level}\n      variant={variant}\n    />\n  );\n};\n","import * as React from 'react';\nimport './styles.css';\n\nimport {\n  DoomFace,\n  MouseFollowingDoomFace,\n  LevelNumber,\n} from './components/DoomFace/DoomFace';\n\nexport default function App() {\n  const faces = [\n    'abcdefgh',\n    'abcdefgh',\n    'abcdefgh',\n    'abcdefgh',\n    'abcdefgh',\n    'ab',\n  ];\n\n  const max = Math.max(...faces.map((variants) => variants.length));\n\n  return (\n    <div className=\"App\">\n      <div className=\"mousefollowing\">\n        <MouseFollowingDoomFace level={Math.ceil(Math.random() * 5) as LevelNumber} />\n      </div>\n\n      <table>\n        <tbody>\n          <tr>\n            <td />\n            <td>a</td>\n            <td>b</td>\n            <td>c</td>\n            <td>d</td>\n            <td>e</td>\n            <td>f</td>\n            <td>g</td>\n            <td>h</td>\n          </tr>\n          {faces.map((variants, level) => (\n            // eslint-disable-next-line react/no-array-index-key\n            <tr key={level}>\n              <td>\n                {level + 1}\n              </td>\n              {variants.split('').map((variant: any) => {\n                const faceLevel: any = level + 1;\n                return (\n                  <td key={variant}>\n                    <DoomFace\n                      level={faceLevel}\n                      variant={variant}\n                    />\n                  </td>\n                );\n              })}\n\n              {variants.length < max && <td colSpan={max - variants.length} />}\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n}\n","import * as React from 'react';\nimport { render } from 'react-dom';\n\nimport App from './App';\n\nconst rootElement = document.getElementById('root');\nrender(<App />, rootElement);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"DoomFace_root__3J4e-\",\"sprite\":\"DoomFace_sprite__2bk8C\",\"level-1\":\"DoomFace_level-1__33IV_\",\"level-2\":\"DoomFace_level-2__21dJ-\",\"level-3\":\"DoomFace_level-3__1PyAY\",\"level-4\":\"DoomFace_level-4__41ghC\",\"level-5\":\"DoomFace_level-5__1v1ed\",\"level-6\":\"DoomFace_level-6__2WDf7\",\"variant-a\":\"DoomFace_variant-a__3_9hj\",\"variant-b\":\"DoomFace_variant-b__loR35\",\"variant-c\":\"DoomFace_variant-c__2VAYT\",\"variant-d\":\"DoomFace_variant-d__pg5ey\",\"variant-e\":\"DoomFace_variant-e__3r2Rl\",\"variant-f\":\"DoomFace_variant-f__2MePC\",\"variant-g\":\"DoomFace_variant-g__1T73e\",\"variant-h\":\"DoomFace_variant-h__1Ozau\"};"],"sourceRoot":""}